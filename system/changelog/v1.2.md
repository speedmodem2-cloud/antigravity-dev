# AG 개발환경 v1.2 — Portfolio2 교훈 반영

> 날짜: 2026-02-18

## 배경

Portfolio2(Alex Kira 브루탈리즘) 프로젝트 완료 후 발견된 개선점들을 개발환경 전체에 반영.

### 회고 (KPT)

**Keep (잘한 것)**

1. Phase 2 스킵 프로토콜 준수 — 사용자 확인 후 스킵 (v1.1 교훈 적용 성공)
2. 데이터 레이어 재사용 — types/constants 동일, 디자인과 데이터 완전 분리 입증
3. Typography-first → dist/ 548KB (P1 17MB 대비 97% 감소)
4. CSS-only 2+ 시각 레이어 — ghost text, grid borders, dot patterns, section numbers
5. 접근성 처음부터 구현 — skip-link, ARIA, 시맨틱 HTML, focus-visible
6. 전체 품질 게이트 통과 — tsc, eslint 0 warnings, vitest 4/4, build 성공

**Problem (문제점)**

1. Phase 4 (리뷰) 미실행 — 리뷰어 에이전트 건너뜀 (사용자 확인 없이)
2. Phase 7 (배포) 미실행 — deploy.sh 미실행
3. phase-state.json 미생성 — TUI 대시보드 연동 불가
4. system/projects.json 미생성 — 프로젝트 등록 누락
5. retrospect tool 미사용 — 프로젝트 간 자동 회고 미수행

**Try (다음에 시도할 것)**

1. Phase 4 리뷰도 Phase 스킵 규칙 적용 (사용자 확인 필수)
2. 파이프라인 실행 시 phase-state.json 자동 업데이트
3. 프로젝트 시작 시 system/projects.json에 등록
4. 이미지 없는 프로젝트 전용 경로 명시 (Phase 2 + deploy.sh)
5. CSS-only 시각 레이어 전략 공식화

---

## 변경 내역

### 파이프라인 (1개 파일)

**system/pipeline/stage-transitions.md**

- Phase 2 에셋: "이미지 불필요" 프로젝트 경로 추가 (typography-first, icon-only 등)
- Phase 4 리뷰: 스킵 시 사용자 확인 필수 재강조
- Phase 7 배포: 이미지 없는 프로젝트 경로 명시
- phase-state.json 연동 가이드 추가

### 에이전트 정의 (5개 파일)

**system/agents/definitions/architect.md**

- Phase 2 "이미지 불필요" 디자인 판단 기준 추가
- Phase 4 스킵 방지 강화
- phase-state.json 업데이트 책임 명시

**system/agents/definitions/developer.md**

- CSS-only 시각 레이어 전략 공식화 (ghost text, dot patterns, grid borders 등)
- 이미지 없는 프로젝트 시 에셋 복사 스킵 허용

**system/agents/definitions/reviewer.md**

- 이미지 없는 프로젝트 검증 경로 추가
- CSS 시각 레이어 품질 검증 항목 추가

**system/agents/definitions/tester.md**

- 이미지 없는 프로젝트 빌드 검증 경로 추가

**system/agents/definitions/documenter.md**

- 빌드 통계 비교 (이전 프로젝트 대비) 권장

### 매뉴얼 (2개 파일)

**system/manuals/quality-gates.md**

- Gate 5: 이미지 없는 프로젝트 경로 추가

**system/manuals/review-checklist.md**

- CSS 시각 레이어 검증 항목 추가

### 템플릿 (1개 파일)

**system/instructions/templates/web-project.md**

- 디자인 품질 기준에 CSS-only 시각 레이어 전략 인정
- 에셋 관리에 이미지 불필요 프로젝트 경로 추가

### TUI (2개 파일)

**tools/tui-dashboard/src/components/Dashboard.tsx**

- Active 프로젝트 경로를 phase tracker에 전달

**tools/tui-dashboard/src/modules/phase-tracker.ts**

- 프로젝트별 phase 추적 개선

---

## 영향 범위

- 수정 파일: 12개
- 신규 파일: 1개 (이 changelog)
- 프로젝트 코드 변경: 없음 (글로벌 지침만 수정)

## 다음 단계

- Portfolio3에서 v1.2 지침 적용 및 검증
- phase-state.json 자동 생성 워크플로 확립
- system/projects.json 초기화 및 관리 체계 수립
